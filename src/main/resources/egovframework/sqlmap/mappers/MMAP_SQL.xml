<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mDAO">

	<insert id="insertShpLayer" parameterType="Map">
		INSERT INTO MMAP_LAYER_INFO (layer_id, user_id, TITLE, CONTENTS)
		VALUES (#{layerId}, #{userId}, #{title}, #{contents})
	</insert>

	<insert id="insertPublicDept" parameterType="Map">
		<if test="deptId != null">
			INSERT INTO mmap_layer_pubdep (layer_id, dept_id)
			VALUES
			<foreach collection="deptId" item="dept" separator=",">
				(#{layerId}, #{dept})
			</foreach>
		</if>
	</insert>

	<insert id="insertBlob" parameterType="Map">
		INSERT into  blob_test (layerName, bdata) VALUES (#{layerName}, #{bdata})
	</insert>

	<select id="selectBlob" parameterType="string" resultType="Map">
		SELECT bdata FROM blob_test WHERE layerName = #{value}
	</select>

</mapper>